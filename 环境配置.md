[阿里云](https://cn.aliyun.com/) 
### 创建工作用户`zlwnge`，并赋予`sudo`权限
打开终端，登录到服务器：
```
sss root@公网ip
```
创建`zlwnge`用户：
```
adduser zlwnge # 创建用户
zlwnge usermod -aG sudo zlwnge # 给用户zlwnge分配sudo权限
```
### 配置别名：
>如果没有在终端上生成过公钥和密钥的，需先通过`ssh-keygen`来生成公钥和密钥。
>该命令会在目录下生成密钥`id_rsa`、公钥`id_rsa.pub`以及`known_hosts`文件。

```
cd .ssh/
vim config
```
在配置文件中输入：
```
Host (别名)
  HostName (公网ip)
  User (用户名)
```
然后按`esc`进入`vim`命令行模式，输入`：wq`保存并退出`vim`。

### 配置免密登录
```
ssh-copy-id (服务器别名)
```

### 配置工作环境
```
scp .bashrc .vimrc .tmux.conf (别名):
```
### 安装`tmux`和`docker`
登录到服务器（`ssh zlwnge@公网ip`），然后安装`tmux`：
```
sudo apt-get update
sudo apt-get install tmux
```
打开`tmux`。（养成好习惯，所有工作都在`tmux`里进行，防止意外关闭终端后，工作进度丢失）
然后在`tmux`中根据[docker安装教程](https://docs.docker.com/engine/install/ubuntu/)安装`docker`即可。



### 导入镜像
```
scp django_lesson_1_0.tar zlw:
```

### 加载镜像
```
docker load -i django_lesson_1_0.tar
```

### 运行镜像
```
docker run -p 20000:20 -p 8000:8000 --name django-server -itd django_lesson:1.0 # 端口20000用于登录，端口8000用于调试
```


### 进入镜像
```
docker attach django-server
```

### 给容器`django-server`添加用户
```
adduser zlwnge  # 添加用户zlwnge
usermod -aG sudo zlwnge# 给用户添加sudo权限
```

> 挂起容器`Ctrl+p`+`Ctrl+q`;
> 关闭容器`Ctrl+d`.


### 进入阿里云放开`20000`端口，然后在`/.ssh/config`中给容器配置别名，加上`Port`一项：
```
Host (别名)
  HostName (公网ip)
  User (用户名)
  Port 20000
```

以后就可以通过容器的别名直接登录到容器
